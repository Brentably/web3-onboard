import{P as c,v as w,w as W,u as y}from"./ThemeCustomizer.svelte_svelte_type_style_lang-eee81db4.js";const k=({detected:i,metamask:s})=>({label:t})=>!(t===c.Detected&&i||t===c.MetaMask&&s);function x(i){if(typeof window=="undefined")return()=>null;if(i){const s=w(i);if(s&&s.error)throw s.error}return s=>{const{device:t}=s,{custom:f=[],filter:p={}}=i||{},m=[...f,...W],v=y(m,({label:r})=>`${r}`).filter(r=>{const{label:a,platforms:l}=r,e=p[a],n=e===!1,d=Array.isArray(e)&&(e.includes(t.type)||e.includes(t.os.name)),M=!l.includes("all")&&!l.includes(t.type)&&!l.includes(t.os.name);return!n&&!d&&!M});let u=!1;const o=v.filter(({injectedNamespace:r,checkProviderIdentity:a,label:l})=>{const e=window[r];if(!e)return;let n;return e.providers&&Array.isArray(e.providers)?n=!!e.providers.filter(d=>a({provider:d,device:t})).length:n=a({provider:e,device:t}),n&&e.isMetaMask&&!e.overrideIsMetaMask&&l!==c.MetaMask&&l!=="Detected Wallet"&&(u=!0),n});if(o.length){const r=o.length>1;return o.filter(k({detected:r,metamask:r&&u})).map(({label:a,getIcon:l,getInterface:e})=>({label:a,getIcon:l,getInterface:e}))}return[]}}export{x as i};
